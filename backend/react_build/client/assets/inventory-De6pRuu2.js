import{R as n,p as e,w as u,y as p}from"./chunk-4WY6JWTD-DFeZLFN5.js";/* empty css                  *//* empty css            */import{C as x}from"./cancelsavebtn-CxQDzKWk.js";/* empty css                        */function j(d){const[o,c]=n.useState(),[i,a]=n.useState({supply_name:"",brand:"",description:"",category_id:1,auto_deduct:!1});async function l(){console.log(i);for(const s of Object.keys(i))if(i[s]===""){console.log("END");return}await fetch("http://localhost:5000/additem",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),d.refetchSupplies()}return n.useEffect(()=>{fetch("http://localhost:5000/getallsuppliescategories").then(s=>s.json()).then(s=>c(s))},[]),console.log(o),e.jsxs("div",{id:"add-item-div",children:[e.jsx("div",{className:"gray-bg"}),e.jsxs("div",{id:"add-item-form",className:"modal-form",children:[e.jsx("div",{className:"modal-header-div",children:e.jsx("p",{className:"modal-header",children:"Add Item"})}),e.jsxs("div",{className:"main-form-content",children:[e.jsxs("label",{htmlFor:"add-item-name",children:["Item Name",e.jsx("input",{type:"text",id:"add-item-name",value:i.supply_name,onChange:s=>a({...i,supply_name:s.target.value})})]}),e.jsxs("label",{htmlFor:"add-item-desc",children:["Brand",e.jsx("input",{type:"text",id:"add-item-brand",value:i.brand,onChange:s=>a({...i,brand:s.target.value})})]}),e.jsxs("label",{htmlFor:"add-item-desc",children:["Description",e.jsx("input",{type:"text",id:"add-item-desc",value:i.description,onChange:s=>a({...i,description:s.target.value})})]}),e.jsxs("label",{htmlFor:"add-item-category",children:[" Category",e.jsx("select",{name:"category",id:"add-item-category",value:i?.category_id,onChange:s=>a({...i,category_id:parseInt(s.target.value)}),children:o?.map(s=>e.jsx("option",{value:s.category_id,children:s.category_name}))})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",color:"red"},children:[e.jsx("input",{type:"checkbox",checked:i?.auto_deduct,onChange:s=>a({...i,auto_deduct:s.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),"Auto deduct from inventory"]})]}),e.jsx(x,{hideForm:d.hideForm,submit:l})]})]})}const S=u(function(){const o=p(),[c,i]=n.useState(!1),[a,l]=n.useState([]),[s,r]=n.useState("");n.useEffect(()=>{fetch("http://localhost:5000/getallsupplies").then(t=>t.json()).then(t=>l(t))},[]);function h(){fetch("http://localhost:5000/getallsupplies").then(t=>t.json()).then(t=>l(t))}const m=a.filter(t=>t.supply_name.toLowerCase().includes(s.toLowerCase()));return e.jsx("div",{className:"route-page",children:e.jsxs("div",{id:"inventory-div",children:[c&&e.jsx(j,{hideForm:()=>i(!1),refetchSupplies:h}),e.jsx("h1",{className:"route-header",children:"Inventory"}),e.jsx("p",{className:"route-page-desc",children:"Manage your clinic's inventory, supplies, and equipment."}),e.jsx("input",{type:"text",id:"inventory-searchbar",placeholder:"Search item",value:s,onChange:t=>r(t.target.value)}),e.jsxs("div",{id:"filter-div",children:[e.jsxs("select",{children:[e.jsx("option",{value:"all",children:"All Items"}),e.jsx("option",{value:"medications",children:"Medications"}),e.jsx("option",{value:"medical-supplies",children:"Medical Supplies"}),e.jsx("option",{value:"equipment",children:"Equipment"})]}),e.jsxs("select",{children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"instock",children:"In Stock"}),e.jsx("option",{value:"lowstock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[e.jsxs("div",{id:"filter-by-category",style:{visibility:"hidden"},children:[e.jsx("button",{className:"category-filter",children:"All Items"}),e.jsx("button",{className:"category-filter",children:"Medications"}),e.jsx("button",{className:"category-filter",children:"Medical Supplies"}),e.jsx("button",{className:"category-filter",children:"Equipment"})]}),e.jsx("button",{id:"add-item-btn",onClick:()=>i(!0),children:"+ Add Item"})]}),e.jsx("div",{id:"inventory-table-container",className:"table-container",children:e.jsxs("table",{id:"inventory-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Total Stock"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Updated"})]})}),e.jsx("tbody",{children:m.map(t=>e.jsxs("tr",{onClick:()=>o(`/itemdetails/${t.supply_id}`),children:[e.jsx("td",{children:t.supply_name}),e.jsx("td",{children:t.category_name}),e.jsx("td",{children:t.total_stock>0?t.total_stock:0}),e.jsx("td",{children:e.jsx("p",{style:{backgroundColor:t.total_stock>20?"#6EC207":t.total_stock>0?"orange":"#FB4141",padding:"0.3rem",textAlign:"center",borderRadius:"10px",width:"80px",fontSize:"0.7rem",height:"25px",fontWeight:"500",color:"white"},children:t.total_stock>20?"In Stock":t.total_stock>0?"Low Stock":"Out-of-Stock"})}),e.jsx("td",{children:t.last_updated||"None"})]},t.supply_id))})]})})]})})});export{S as default};
