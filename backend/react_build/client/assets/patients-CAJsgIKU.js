import{w as x,y as m,R as s,p as e}from"./chunk-4WY6JWTD-DFeZLFN5.js";/* empty css                   *//* empty css            */import{A as p}from"./addpatient-CmzEiQ4u.js";/* empty css                 */import"./cancelsavebtn-CxQDzKWk.js";const v=x(function(){const r=m(),[l,n]=s.useState(!1),[d,i]=s.useState([]),[a,o]=s.useState("");s.useEffect(()=>{fetch("http://localhost:5000/getallpatients").then(t=>t.json()).then(t=>i(t))},[]);function c(){fetch("http://localhost:5000/getallpatients").then(t=>t.json()).then(t=>i(t))}const h=d.filter(t=>`${t.first_name} ${t.last_name}`.toLowerCase().includes(a.toLowerCase())||t.student_id.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"route-page",children:[e.jsx("h1",{className:"route-header",children:"Patients"}),e.jsx("p",{className:"route-page-desc",children:"Manage your patients and their medical records."}),e.jsx("input",{type:"text",id:"patient-searchbar",placeholder:"Search patient",value:a,onChange:t=>o(t.target.value)}),e.jsx("button",{id:"add-patient-btn",onClick:()=>n(!0),children:"+ Add new patient"}),l&&e.jsx(p,{hideForm:()=>n(!1),refetchPatients:c}),e.jsx("div",{id:"patients-table-container",className:"table-container",children:e.jsxs("table",{id:"patients-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"photo-col",style:{width:"50px"}}),e.jsx("th",{className:"idno-col",style:{width:"150px"},children:"ID No"}),e.jsx("th",{style:{width:"150px"},children:"Name"}),e.jsx("th",{children:"Department"}),e.jsx("th",{children:"Level"}),e.jsx("th",{children:"Sex"}),e.jsx("th",{children:"Last Record"})]})}),e.jsx("tbody",{children:h.map(t=>e.jsxs("tr",{onClick:()=>r(`/patientdetails/${t.patient_id}`),children:[e.jsx("td",{}),e.jsx("td",{children:t.student_id}),e.jsxs("td",{children:[t.first_name," ",t.last_name]}),e.jsx("td",{children:t.department}),e.jsx("td",{children:t.level}),e.jsx("td",{children:t.sex}),e.jsx("td",{})]},t.patient_id))})]})})]})});export{v as default};
