import{w as x,R as t,p as e}from"./chunk-4WY6JWTD-DFeZLFN5.js";/* empty css                        */import{R as u,P as v,a as N,C as f,T as b,L as g}from"./PieChart-DH9vA3dl.js";import"./index-BeDyGIcy.js";const P=x(function(){const[n,r]=t.useState(),[o,d]=t.useState(),[l,h]=t.useState(),[m,p]=t.useState(),c=t.useMemo(()=>{if(!l)return[];const s={};return l.forEach(a=>{s[a.category_name]=(s[a.category_name]||0)+1}),Object.entries(s).map(([a,j])=>({name:a,value:j}))},[l]),i=["#0088FE","#00C49F","#FFBB28","#FF8042","#AA46BE","#FF4C4C"];return t.useEffect(()=>{fetch("http://localhost:5000/getallpatients").then(s=>s.json()).then(s=>r(s)),fetch("http://localhost:5000/getappointmentstoday").then(s=>s.json()).then(s=>d(s)),fetch("http://localhost:5000/getallsupplies").then(s=>s.json()).then(s=>h(s)),fetch("http://localhost:5000/getall?table=staff").then(s=>s.json()).then(s=>p(s))},[]),e.jsxs("div",{className:"route-page",children:[e.jsx("h1",{className:"route-header",children:"Dashboard"}),e.jsx("p",{className:"route-page-desc",children:"Welcome back! Here's your clinic overview for today"}),e.jsx("div",{children:e.jsxs("div",{className:"stats-container",children:[e.jsx("h2",{className:"title",children:"Clinic Statistics"}),e.jsxs("div",{className:"cards-row",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"icon blue",children:e.jsx("i",{className:"bi bi-people"})}),e.jsx("div",{className:"value",children:n?.length}),e.jsx("div",{className:"label",children:"Total Patients"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"icon green",children:e.jsx("i",{className:"bi bi-calendar-date"})}),e.jsx("div",{className:"value",children:o?.length}),e.jsx("div",{className:"label",children:"Appointments Today"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"icon orange",children:e.jsx("i",{className:"bi bi-clock"})}),e.jsx("div",{className:"value",children:l?.length}),e.jsx("div",{className:"label",children:"Total Supplies"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"icon purple",children:e.jsx("i",{className:"bi bi-person"})}),e.jsx("div",{className:"value",children:m?.length}),e.jsx("div",{className:"label",children:"Total Staff"})]})]})]})}),e.jsxs("div",{className:"inventory-chart-container",children:[e.jsx("h2",{className:"title",children:"Inventory by Category"}),e.jsx(u,{width:"100%",height:300,children:e.jsxs(v,{children:[e.jsx(N,{data:c,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:110,label:!0,children:c.map((s,a)=>e.jsx(f,{fill:i[a%i.length]},`cell-${a}`))}),e.jsx(b,{}),e.jsx(g,{})]})})]})]})});export{P as default};
