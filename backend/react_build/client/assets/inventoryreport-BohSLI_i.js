import{w as p,R as s,p as t}from"./chunk-4WY6JWTD-DFeZLFN5.js";const f=p(function(){const i={border:"1px solid #ccc",borderRadius:"8px",padding:"20px",textAlign:"center",flex:1,margin:"10px",backgroundColor:"#f9f9f9"},m={display:"flex",justifyContent:"space-around",margin:"20px 0"},d={fontSize:"2rem",fontWeight:"bold",margin:"10px 0"},[n,a]=s.useState({from_date:new Date().toISOString().split("T")[0],to_date:new Date().toISOString().split("T")[0]}),[o,c]=s.useState(),[l,x]=s.useState({item_in:0,item_out:0});let r=0,h=0;return s.useEffect(()=>{if(o?.length>0){for(const e of o)r+=e.item_in,h+=e.item_out,console.log(r);x({...l,item_in:r,item_out:h})}},[o]),console.log(o),console.log(l),s.useEffect(()=>{fetch(`http://localhost:5000/getinvlogs?fromdate=${n.from_date}&todate=${n.to_date}`).then(e=>e.json()).then(e=>c(e))},[]),s.useEffect(()=>{fetch(`http://localhost:5000/getinvlogs?fromdate=${n.from_date}&todate=${n.to_date}`).then(e=>e.json()).then(e=>c(e))},[n]),t.jsxs("div",{className:"route-page",children:[t.jsx("h1",{className:"route-header",children:"Inventory Report"}),t.jsxs("div",{style:{margin:"2rem 0",display:"flex",gap:"2rem"},children:[t.jsxs("label",{htmlFor:"",children:["From",t.jsx("input",{type:"date",value:n?.from_date,onChange:e=>a({...n,from_date:e.target.value})})]}),t.jsxs("label",{htmlFor:"",children:["To",t.jsx("input",{type:"date",value:n?.to_date,onChange:e=>a({...n,to_date:e.target.value})})]})]}),t.jsxs("div",{style:m,children:[t.jsxs("div",{style:i,children:[t.jsx("div",{children:"Total Item In"}),t.jsx("div",{style:d,children:t.jsxs("p",{style:{color:"#6EC207"},children:["+",l.item_in]})})]}),t.jsxs("div",{style:i,children:[t.jsx("div",{children:"Total Item Out"}),t.jsx("div",{style:d,children:t.jsxs("p",{style:{color:"red"},children:["-",l.item_out]})})]})]}),t.jsx("div",{className:"table-container",children:t.jsxs("table",{children:[t.jsxs("tr",{children:[t.jsx("th",{style:{width:"70px"},children:"ID"}),t.jsx("th",{children:"Supply"}),t.jsx("th",{children:"Batch"}),t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Item In"}),t.jsx("th",{children:"Item Out"})]}),o?.map(e=>t.jsxs("tr",{children:[t.jsx("td",{children:e.inv_id}),t.jsx("td",{children:e.supply_name}),t.jsx("td",{children:e.batch_number}),t.jsx("td",{children:e.inv_date}),t.jsx("td",{children:e.item_in}),t.jsx("td",{children:e.item_out})]}))]})})]})});export{f as default};
