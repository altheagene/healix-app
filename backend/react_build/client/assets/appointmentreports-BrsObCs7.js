import{w as m,R as l,p as e}from"./chunk-4WY6JWTD-DFeZLFN5.js";const u=m(function(){const d={border:"1px solid #ccc",borderRadius:"8px",padding:"20px",textAlign:"center",flex:1,margin:"10px",backgroundColor:"#f9f9f9"},a={display:"flex",justifyContent:"space-around",margin:"20px 0"},i={fontSize:"2rem",fontWeight:"bold",margin:"10px 0"},[n,c]=l.useState({from_date:new Date().toISOString().split("T")[0],to_date:new Date().toISOString().split("T")[0]}),[s,p]=l.useState([]),[o,h]=l.useState({upcoming:0,completed:0,cancelled:0});return l.useEffect(()=>{const t=s.reduce((r,x)=>{switch(x.status?.toLowerCase()){case"upcoming":r.upcoming+=1;break;case"completed":r.completed+=1;break;case"cancelled":r.cancelled+=1;break}return r},{upcoming:0,completed:0,cancelled:0});h(t)},[s]),l.useEffect(()=>{fetch(`http://localhost:5000/getapptlogs?fromdate=${n.from_date}&todate=${n.to_date}`).then(t=>t.json()).then(t=>p(t))},[n]),e.jsxs("div",{className:"route-page",children:[e.jsx("h1",{className:"route-header",children:"Appointment Reports"}),e.jsxs("div",{style:{margin:"2rem 0",display:"flex",gap:"2rem"},children:[e.jsxs("label",{children:["From",e.jsx("input",{type:"date",value:n?.from_date,onChange:t=>c({...n,from_date:t.target.value})})]}),e.jsxs("label",{children:["To",e.jsx("input",{type:"date",value:n?.to_date,onChange:t=>c({...n,to_date:t.target.value})})]})]}),e.jsxs("div",{style:a,children:[e.jsxs("div",{style:d,children:[e.jsx("div",{children:"Total Appointments"}),e.jsx("div",{style:i,children:e.jsx("p",{style:{color:"#6EC207"},children:s?.length})})]}),e.jsxs("div",{style:d,children:[e.jsx("div",{children:"Total Upcoming Appointments"}),e.jsx("div",{style:i,children:e.jsx("p",{style:{color:"orange"},children:o.upcoming})})]}),e.jsxs("div",{style:d,children:[e.jsx("div",{children:"Total Completed Appointments"}),e.jsx("div",{style:i,children:e.jsx("p",{style:{color:"green"},children:o.completed})})]}),e.jsxs("div",{style:d,children:[e.jsx("div",{children:"Total Cancelled Appointments"}),e.jsx("div",{style:i,children:e.jsx("p",{style:{color:"red"},children:o.cancelled})})]})]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"70px"},children:"ID"}),e.jsx("th",{children:"Patient"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:s.length>0?s?.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.appointment_id}),e.jsx("td",{children:t.patient_name}),e.jsx("td",{children:t.appointment_date}),e.jsx("td",{children:t.start_time}),e.jsx("td",{children:t.service_name}),e.jsx("td",{children:e.jsx("p",{style:{padding:"0.3rem",borderRadius:"10px",color:"white",fontSize:"0.8rem",width:"90px",textAlign:"center",fontWeight:"500",backgroundColor:t.status==="Completed"?"#6EC207":t.status==="Cancelled"?"#ed3e27":"#799EFF"},children:t.status})})]},t.appointment_id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"15px"},children:"No Appointments found"})})})]})]})});export{u as default};
